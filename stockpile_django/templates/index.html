{% extends "layout.html" %}

{% block content %}

<h2 class="mb-4">Itens</h2>

{% if items %}
  <div class="list-group shadow-sm">

    {% for i in items %}
      <div class="list-group-item d-flex justify-content-between align-items-center flex-wrap gap-2">

        <div class="me-auto"> <div class="fw-bold fs-5">{{ i.name }}</div>

          <div class="mt-1">
            <span class="badge bg-secondary">{{ i.qty }} un</span>

            {% if i.category %}
              <span class="badge bg-info text-dark">{{ i.category }}</span>
            {% endif %}

            {% if i.qty <= i.threshold %}
              <span class="badge bg-danger">Baixo estoque</span>
            {% endif %}
          </div>
        </div>

        <div class="d-flex">
          <a href="/item/{{ i.id }}/add" class="btn btn-success btn-sm me-2" style="width: 40px;">➕</a>
          <a href="/item/{{ i.id }}/remove" class="btn btn-danger btn-sm" style="width: 40px;">➖</a>
        </div>

      </div>
    {% endfor %}

  </div>

{% else %}
  <div class="alert alert-info text-center">
    Nenhum item cadastrado ainda.
  </div>
{% endif %}

{% endblock %}